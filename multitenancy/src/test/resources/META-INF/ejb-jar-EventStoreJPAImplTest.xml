<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:ejb="http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd" 
    version="3.1">

    <enterprise-beans>    

        <session>
            <ejb-name>PersistenceContextProvider</ejb-name>
            <description></description>
            <ejb-class>
                de.redrainbow.care.common.port.adapter.persistence.DefaultPersistenceContextProvider
	    </ejb-class>
            <session-type>Singleton</session-type>
            <init-on-startup>true</init-on-startup>
            <persistence-context-ref>
                <persistence-context-ref-name>PersistenceContext</persistence-context-ref-name>
                <persistence-unit-name>TestPU</persistence-unit-name>
            </persistence-context-ref>
        </session>

        <session>
            <ejb-name>EventStoreForEventStoreJPAImplTest</ejb-name>
            <description>
                This is the configured EventStore for the test of EventStoreJPAImpl
            </description>
            <ejb-class>de.redrainbow.care.common.port.adapter.event.store.jpa.EventStoreJPAImpl</ejb-class>
            <session-type>Singleton</session-type>
            <ejb-local-ref>
                <ejb-ref-name>PersistenceContextProvider</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <local>de.redrainbow.care.common.port.adapter.persistence.PersistenceContextProvider</local>
                <ejb-link>PersistenceContextProvider</ejb-link>
            </ejb-local-ref>
        </session>

    </enterprise-beans>

</ejb-jar>